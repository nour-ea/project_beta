<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>WinkWide</title>
<th:block th:include="includes/_include"></th:block>
<script th:src="@{/apps/portalApp.js}"></script>

</head>

<body  ng-cloak ng-app="portalApp" ng-controller="crudCtrl as vm">
	<th:block th:include="portal/_header"></th:block>
		
		<section class="w-100" id="mainContent">
		<div class="d-flex" id="wrapper">
			
			<th:block th:include="portal/_navigation"></th:block>
			<div class="container-fluid m-2" id="page-content-wrapper">
			
				<!-- CONTEXT INFORMATION -->
				<div class="row m-2 rounded bg-light" id="contextRow">
					<div class="col m-2 ml-auto">	
					<p class="text-primary font-weight-bold float-left" href="/portal/displays">Administration / Displays</p>
					</div>
						
				</div>
				
				
				<!-- CONFIGURE ANGULAR CRUD APP with object name -->
				<script> app.value('objectModel','display'); </script>
				
				
				<!-- SPECIFIC FILTERS and Create Button -->
				<div class="row m-2 rounded bg-light" id="specificFiltersRow">
					<div class="m-2 w-100">
						
							<!-- add specific filters here -->
							<div class="form-row pt-2" ng-form name="specificForm">
			
								<div class="col-lg-3 col-md-3 col-sm-6 mb-2 mb-md-0 float-left mr-md-3">
									<small>Filter by last sync time</small>
									<div class="input-append date form_datetime row">
										<div class="col-10 pr-0">
										<input type="text" name="lastSyncTimeMin" class="form-control form-control-sm small mt-1 " readonly  placeholder="min start time" 
											ng-model="specificFilters.lastSyncTimeMin" ng-change="setGridData()">
										</div>
										<div class="col-2 p-1">
											<div class="mt-1">
												<span class="add-on"><i class="icon-remove fa fa-remove"></i></span>
    												<span class="add-on"><i class="icon-calendar fa fa-calendar"></i></span>
											</div>
    										</div>																											
									</div>
									<div class="input-append date form_datetime row">
										<div class="col-10 pr-0">
										<input type="text" name="lastSyncTimeMax" class="form-control form-control-sm small mt-1 " readonly  placeholder="max start time" 
											ng-model="specificFilters.lastSyncTimeMax" ng-change="setGridData()">
										</div>
										<div class="col-2 p-1">
											<div class="mt-1">
												<span class="add-on"><i class="icon-remove fa fa-remove"></i></span>
    												<span class="add-on"><i class="icon-calendar fa fa-calendar"></i></span>
											</div>
    										</div>																											
									</div>
								</div>
								
								<div class="col-lg-3 col-md-2 col-sm-6 mb-2 mb-md-0 float-left mr-md-3">
									<small>Filter by average audience</small>
									<div>
										<input type="text" name="averageAudienceMin" class="form-control form-control-sm mt-1" placeholder="min average audience" 
											ng-model="specificFilters.averageAudienceMin" ng-change="setGridData()"
											ng-pattern="/^[0-9]{1,7}(\.[0-9]+)?$/" >
											<small ng-show="specificForm.averageAudienceMin.$error.pattern" class="text-danger">&nbsp field must be a decimal </small>											
										<input type="text" name="averageAudienceMax" class="form-control form-control-sm mt-1" placeholder="max average audience"
											ng-model="specificFilters.averageAudienceMax" ng-change="setGridData()"
											ng-pattern="/^[0-9]{1,7}(\.[0-9]+)?$/" >
											<small ng-show="specificForm.averageAudienceMax.$error.pattern" class="text-danger">&nbsp field must be a decimal </small>				
											
									</div>
								</div>
								
								<div class="col-lg-3 col-md-2 col-sm-6 mb-2 mb-md-0 float-left mr-md-3">
									<small>Filter by average daily visitors</small>
									<div>
										<input type="text" name="averageVisitorsMin" class="form-control form-control-sm mt-1" placeholder="min average audience" 
											ng-model="specificFilters.averageVisitorsMin" ng-change="setGridData()"
											ng-pattern="/^[0-9]{1,7}(\.[0-9]+)?$/" >
											<small ng-show="specificForm.averageVisitorsMin.$error.pattern" class="text-danger">&nbsp field must be a decimal </small>											
										<input type="text" name="averageVisitorsMax" class="form-control form-control-sm mt-1" placeholder="max average audience"
											ng-model="specificFilters.averageVisitorsMax" ng-change="setGridData()"
											ng-pattern="/^[0-9]{1,7}(\.[0-9]+)?$/" >
											<small ng-show="specificForm.averageVisitorsMax.$error.pattern" class="text-danger">&nbsp field must be a decimal </small>				
											
									</div>
								</div>

								
			
								<div class="ml-auto col-lg-2 col-md-2 col-sm-6 mb-2 mb-md-0">
									<button ng-click="setFormData('','create')" type="button" class="btn btn-block btn-primary float-right" data-toggle="modal" data-target="#createEditObjectModal">
										<i class="fa fa-plus fa-fw"></i>&nbsp; New {{targetObject}}
									</button>
								</div>
			
							</div>
					</div>
				</div>
				
				
				<!-- CRUD Table and Modals-->
				<div class="row m-2 rounded bg-light">
					<div class="m-2 w-100" id="tableRow">
						<th:block th:include="includes/_crudTable"></th:block>
					</div>
				</div>
															
			</div>
			
		</div>
		</section>

	<th:block th:include="portal/_footer"></th:block>

</body>
</html>